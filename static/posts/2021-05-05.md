このブログを作った当時は軽快だったし、新しい技術(Vue.js)に触れられてワクワクしていたけど、いざ常用するようになると色々と粗が目立つもので、そのうえもう作ってからかなり年月が経つのでガタもきていて、実用に耐えなくなってきている。先月記事を書来終えたあと『今年は月に二本ぐらい日記を書こうか』などとおもっていたけれど、あまりにもブログのnpm buildが遅くなりすぎて、気が乗らなくなった。

このままではいけないと思ったので勉強もかねてReact(preact)に入門し、新システムを全体の80%程度まで作ったものの、ルーティングを行ってくれるライブラリの仕様がよくわからず(preact-router)、最後の一歩程度の段階で凍結している。一時の熱も冷えて、面倒になってしまったので、もうこのまま塩漬けになると思う。

## オモチャを作った

問題提起: 大学の友人達とSlackとDiscodを併用しているが、誰もDiscordを見ていないので、なんとなくボイスチャンネルに入っても誰も来ない。

上記の問題があり、Discordのボイスチャンネルに入室/退室すると通知してくれるSlack Botを作った。

![Bot稼働の様子](/static/images/2021-05-05.jpg)

仕組みは単純で、DiscordのBotがVoiceChannelのStatusを監視しており、変化が起きるとSlackのWebhook経由でPostする、単純な仕組みになっている。

面白い(かもしれない)のはF#で作ったという点だ。F#は結構後発の関数型言語で、ちょっと書いだだけでHaskellやOCamlから影響を受けているのが見て取れる。Microsoftの研究所が作った言語なのでVisual Studioから書けるのが楽で良い、環境構築で悩むことはなかった上に.NET Core上で動くのでC#のライブラリがシームレスに呼び出せるので、膨大な既存資源が呼び出せる。今回作ったBotもC#で書かれたDiscord.NETというライブラリを使ってDiscordのサーバーと通信している。Discordとの通信は結構ややこしいプロトコルでやりとりしていた気がする(かなり過去の知識)ので大変ありがたい。

Visual Studio楽でいいですよね、入れれば設定無しで動くし。でかいけど。WPFのアプリをF#で書くの楽しそう。

F#面白そうな仕組みがたくさんあるので(今回はほとんどコンピュテーション式とか触れなかった)、もうちょっとオモチャ作りたいですね。
